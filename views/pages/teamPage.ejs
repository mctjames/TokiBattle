<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Tokimons</title>

    <link rel="stylesheet" type="text/css" href="/stylesheets/tokimon.css" />
    <script src="js/script.js"></script>
  </head>
  <body>
    <div id="listPageBackgroundImage">
      <a href="/">Home</a>

      <p class="pageContent">Tokimons are rare. This is the list of Tokimons found so far. Each Tokimon has a unique ID which can be used to distinguish those with similar characteristics.</p>
      
      <div class="container" style="background-color:#f1f1f1">
        <div id="maxTokimons">
          <% if (typeof maxToki !== 'undefined') { %>
            <% if (maxToki == 'You cannot add more than six Tokimons') { %>
              <p><%= maxToki %></p>
            <% } %>
          <% } %>
        </div>
      </div>

      <div class="greyPart">
        <p><%= teamName %></p>
        <table class="actualTable">
          <thead>
            <tr>
              <th class="actualTh">
                Tokimon Name
              </th>
               <th class="actualTh">
                Picture
                </th>
                <th class="actualTh">
                See Info
                </th>
               <th  class="actualTh"> 
                Remove From Team
               </th>
            </tr>
          </thead>
          <tbody>
            <% rows.forEach((r) => { %>
              <tr>
                <td class="actualTd">
                    <%= r.tokiname %>
                </td>
                <td class="actualTd">
                    <img src= "<%= r.piclink %>"/>
                </td>
                <td class="actualTd">
                    <form action="/moreinfo" method="POST">
                        <input class="ToBeHidden" type="text" name="tokiID" id="tokiID" value=<%= r.tokiname %>>
                        <input type="submit" value="More Info">
                    </form><br>
                </td>
                <td class="actualTd">
                  <form action="/removeFromTeam/<%= teamName %>" method="POST">  <!--create add to team POST method which will return to the same page such that the added Tokimon is not shown -->
                    <input class="ToBeHidden" type="text" name="uid" id="tokiID" value=<%= teamName %>>
                    <input class="ToBeHidden" type="text" name="tokiID" id="tokiID" value=<%= r.name %>>
                    <input type="submit" value="Add to Team">
                  </form><br>
              </td>
              </tr> 
            <% }); %>
          </tbody>
        </table>
      </div>
    </div>
  </body>
</html>
